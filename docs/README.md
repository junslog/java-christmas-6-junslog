# 🎅 크리스마스 프로모션

## 👨‍💻 기능 목록

## 💻 [ 입력 및 입력값 검증 기능 ]

> ### 🎯 모든 종류 입력값에 대한 검증

- [x] 모든 사용자 입력값은 공백 포함 길이 2000글자 이하로 한다.
    - [x] 위 경우를 만족시키지 못하는 경우 `BasicInputException`을 발생시키고,<br>
      "[ERROR]" 로 시작하는 메시지를 내보낸다.<br>이후 다시 입력을 받는다.

> ### 🗓 예약 날짜 입력 및 입력값 검증

- [x] `예약 날짜` 입력 요청 문구를 출력한다.
- [x] 사용자에게 `예약 날짜`를 입력받는다.
    - [x] 날짜가 비어있는 값이 아님을 확인한다.
    - [x] 날짜에 공백이 포함되어 있는지 확인한다.
        - [x] 공백이 앞 뒤에 포함되어 있을 경우, 공백을 제거한다.
        - [x] 공백이 글자 중간에 포함되어 있을 경우, 공백을 제거해 공백 사이를 이어준다.
    - [x] 공백 제거 후 글자 길이가 2 이하인지 확인한다.
    - [x] 예약 날짜가 숫자 형식인지 확인한다.
    - [x] 예약 날짜가 양수인지 확인한다.
- [x] 위 경우를 만족하지 못하는 경우 `DayInputException`을 발생시키고,<br>
  "[ERROR]" 로 시작하는 메시지를 내보낸다.<br>이후 다시 `예약 날짜` 입력을 받는다.

> ### 🔖 주문 내역 입력 및 입력값 검증

- [x] `주문 내역` 입력 요청 문구를 출력한다.
- [x] 사용자에게 `주문 내역`을 입력받는다.
    - [x] `주문 내역`이 비어있지 않은지 확인한다.
    - [x] `주문 내역`이 1000글자 이하인지 확인한다.
        - [x] 위 경우를 만족시키지 못하는 경우 `BasicInputException`을 발생시키고,<br>
          "[ERROR]" 로 시작하는 메시지를 내보낸다.<br>이후 다시 `주문 내역`을 입력을 받는다.
    - [x] 주문 내역에 공백이 포함되어 있는지 확인한다.
        - [x] 공백이 앞 뒤에 포함되어 있을 경우, 공백을 제거한다.
        - [x] 공백이 글자 중간에 포함되어 있을 경우, 공백을 제거해 공백 사이를 이어준다.
    - [x] `주문`은 `메뉴 이름`과 `메뉴 개수`로 이루어진다.
    - [x] `주문`은 쉼표(,)를 기준으로 구분한다.
        - [x] `메뉴 이름`와 `메뉴 개수`는 대시(-)를 기준으로 구분한다.

> #### i) 🙋`주문`에 대한 입력값 검증

- [x] `주문`이 비어있는 값이 아님을 확인한다.
- [x] `주문`이 50글자 이하인지 확인한다.
    - [x] 위 경우를 만족시키지 못하는 경우 `BasicInputException`을 발생시키고,<br>
      "[ERROR]" 로 시작하는 메시지를 내보낸다.<br>이후 다시 `주문 내역`을 입력을 받는다.
- [x] `주문`이 대시(-)를 포함하는지 확인한다.
- [x] `주문` 앞 뒤에 공백이 존재하는지 확인한다.
    - [x] 공백이 앞뒤에 포함되어 있을 경우, 공백을 제거한다.
    - [x] 공백이 글자 중간에 포함되어 있을 경우, 공백을 제거해 공백 사이를 이어준다.
- [x] 위 경우를 만족시키지 못하는 경우 `OrdersInputException`을 발생시키고,<br>
  "[ERROR]" 로 시작하는 메시지를 내보낸다.<br>이후 다시 `주문 내역`을 입력을 받는다.

> #### ii) ✉️`메뉴 이름`에 대한 입력값 검증

- [] `메뉴 이름`이 비어있는 값이 아님을 확인한다.
- [] 글자 수가 40글자 이하인지 확인한다.
- [] 해당 메뉴 이름이 메뉴판에 있는 메뉴인지 확인한다.
- [] 위 경우를 만족시키지 못하는 경우 `MenuNameInputException`을 발생시키고,<br>
  "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요." 라는 메시지를 내보낸다.<br>이후 다시 `주문 내역`을 입력을 받는다.

> #### iii) `메뉴 개수`에 대한 입력값 검증

- [] `메뉴 개수`가 비어있는 값이 아님을 확인한다.
- [] `메뉴 개수`가 2글자 이하인지 확인한다.
- [] `메뉴 개수`가 숫자 형식인지 확인한다.
- [] `메뉴 개수`가 1 이상 정수 인지 확인한다.
- [] 위 경우를 만족시키지 못하는 경우 `MenuCountInputException`을 발생시키고,<br>
  "[ERROR]" 로 시작하는 메시지를 내보낸다.<br>이후 다시 `주문 내역`을 입력을 받는다.

> #### 🔖 iv) `주문 내역` 입력값 재검증

- [] `주문 내역`을 취합했을 때, 중복 메뉴가 존재하는지 확인한다.
- [] `주문 내역`을 취합했을 때, `메뉴 개수`가 `20개`가 넘어가는지 확인한다.
- [] `주문 내역`을 취합했을 때, `주문 내역`에 음료수만 있는지 확인한다.
- [] 위 경우를 만족시키지 못하는 경우 `OrdersInputException`을 발생시키고,<br>
  "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요." 라는 메시지를 내보낸다.<br>이후 다시 `주문 내역`을 입력을 받는다.

## 🧩 [ 비즈니스 로직 관련 기능 ]

> ### 🗓 날짜에 대한 적용 가능한 이벤트 판단 도메인 로직

- 사용자에게 입력받은 날짜에 대해
    - [x] 날짜가 1 이상 31 이하의 숫자인지 확인한다.
        - [x] 1 이상 31 이하의 숫자가 아닌 경우, `InvalidDayException`을 발생시키고, <br> "[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요." 의 메시지를
          출력한다.
    - [] 해당 날짜가 크리스마스 D-Day 프로모션 대상 날짜인지 확인한다.
    - [] 평일 할인 대상 날짜인지 확인한다.
    - [] 주말 할인 대상 날짜인지 확인한다.
    - [] 특별 할인 대상 날짜인지 확인한다.

> ### 🔖 주문 내역에 따른 이벤트 적용 여부 판단 도메인 로직

- 사용자에게 입력받은 주문 내역( 메뉴 이름과 수량 )에 대해
    - [] 주문 내역을 취합했을 때, 주문 금액이 `10000원` 이하이면, 할인 이벤트 적용 대상에서 제외시킨다.
    - [] 주문 내역을 취합했을 때, 주문 금액이 `12만원 이상`일 시, `샴페인 1개` 를 증정한다.
    - [] 주문 내역을 이용해서 `할인 전 총 주문 금액`을 계산할 수 있다.

> ### 🎄 주문 내역에 대한 이벤트 적용 결과 산출 도메인 로직

- [] 주문 내역과 날짜를 비교해서, `혜택 내역`을 생산한다.
    - [] 주문 내역에 날짜에 따른 할인 적용 여부를 적용해서, `할인 금액`을 계산한다.
    - [] 혜택 내역의 금액을 합쳐서, `총 혜택 금액`을 계산한다.
        - [] 주문 내역에 증정 이벤트가 포함되어 있을 시, 증정품의 가격까지 `총 혜택 금액`에 포함시킨다.
        - [] 총 혜택 금액을 기반으로 12월 이벤트 배지를 발급한다.
            - [] 혜택 금액이 `5000원` 이상일 시, `별`
              <br> 혜택 금액이 `1만원` 이상일 시, `트리`
              <br> 혜택 금액이 `2만원` 이상일 시, `산타`
    - [] `할인 전 총 주문 금액` 에서 `할인 금액`을 빼서 `할인 후 예상 결제 금액`을 계산한다.

## 🖨 [ 출력 기능 ]

- [] 출력 순서는 <br>`주문 메뉴` - `할인 전 총 주문 금액` - `증정 메뉴` - `혜택 내역`<br>- `총혜택 금액` - `할인 후 예상 결제 금액` - `12월 이벤트 배지` 순으로 한다.

> ### 🙋‍♂️ 주문 메뉴 출력

- [] 주문 메뉴를 나타내는 문구를 출력한다.
- [] 주문 메뉴는 `${메뉴이름} ${메뉴개수} 개`  형식으로 출력한다.
- [] 주문한 메뉴 전체를 위와 같은 형식으로 출력한다.
- [] 출력 순서는 자유롭게 한다. ( 에피타이저 - 메인 메뉴 - 디저트 - 음료 순으로 출력하는 것을 고려해본다. )

> ### 💰 할인 전 총 주문 금액 출력

- [] 할인 전 총 주문 금액을 나타내는 문구를 출력한다.
- [] `할인 전 총 주문 금액`을 나타낸다.
    - [] 금액의 세자리 수마다 `,`을 붙이는 형식으로 출력한다.

> ### 🎁 증정 메뉴 출력

- [] 증정 메뉴를 나타내는 문구를 출력한다.
- [] 증정 메뉴가 있는 경우 `${증정 메뉴 이름} ${증정 메뉴 개수} 개`  형식으로 출력한다.
- [] 증정 메뉴가 없는 경우 `없음`으로 출력한다.

> ### 👍 혜택 내역 출력

- [] 혜택 내역을 나타내는 문구를 출력한다.
- [] 적용되는 할인 이벤트별 이름 및 혜택 금액을 정리해서 나타낸다.
    - [] `${적용 혜택 이벤트 이름}: -${혜택 금액}원` 형식으로 출력한다.
        - []`혜택 금액`의 세자리 수마다 `,`을 붙이는 형식으로 출력한다.
    - [] 적용된 혜택이 없으면 `없음`으로 출력한다.
- [] 여러 개의 이벤트가 적용되었으면, 출력 순서는 자유롭게 한다.

> ### 📉 총 혜택 금액 출력

- [] 총 혜택 금액을 나타내는 문구를 출력한다.
- [] `총 혜택 금액`은 `혜택 내역`에 적용된 혜택 금액을 모두 더한 값을 출력한다.
    - [] `-${혜택 금액}원` 형식으로 출력한다.
        - [] `혜택 금액`의 세자리 수마다 `,`를 붙이는 형식으로 출력한다.
- [] `총 혜택 금액`이 0원이면 `0원`으로 출력한다.

> ### 💵 할인 후 예상 결제 금액 출력

- [] 할인 후 예상 결제 금액을 나타내는 문구를 출력한다.
- [] `할인 후 예상 결제 금액`은 `할인 전 총 주문 금액`에서 `총 혜택 금액`을 뺀 값을 출력한다.
    - [] `${할인 후 예상 결제 금액}원` 형식으로 출력한다.
        - [] `할인 후 예상 결제 금액`의 세자리 수마다 `,`를 붙이는 형식으로 출력한다.

> ### ⭐🎄🎅 12월 이벤트 배지 출력

- [] 12월 이벤트 배지를 나타내는 문구를 출력한다.
- [] `배지 이름` 의 형식으로 출력한다.
    - [] `12월 이벤트 배지`는 `총 혜택 금액`의 값에 따라 다르게 값을 다르게 출력한다.
        - [] 5000원 이상은 `별`, 10000원 이상은 `트리`, 20000원 이상은 `산타`로 출력한다.
- [] 이벤트 배지가 부여되지 않으면 `없음`을 출력한다.